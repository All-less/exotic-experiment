#include <stdint.h>
#include <stdio.h>
#include <wiringPi.h>
struct hhb_vkey{
	const char* name;
	unsigned char vkey;
	const char* description;
};

struct ps2_vkey{
	const char* name;
	unsigned char code, mode;
	const char* description;
};

const hhb_vkey hhb_vkey_list[] = {
	{ "VK_LBUTTON", 0x01, "Left mouse button" },
	{ "VK_RBUTTON", 0x02, "Right mouse button" },
	{ "VK_CANCEL", 0x03, "Control-break processing" },
	{ "VK_MBUTTON", 0x04, "Middle mouse button (three-button mouse)" },
	{ "VK_XBUTTON1", 0x05, "X1 mouse button" },
	{ "VK_XBUTTON2", 0x06, "X2 mouse button" },
	{ "-", 0x07, "Undefined" },
	{ "VK_BACK", 0x08, "BACKSPACE key" },
	{ "VK_TAB", 0x09, "TAB key" },
	//{ "-", 0x0A - 0B, "Reserved" },
	{ "VK_CLEAR", 0x0C, "CLEAR key" },
	{ "VK_RETURN", 0x0D, "ENTER key" },
	//{ "-", 0x0E - 0F, "Undefined" },
	{ "VK_SHIFT", 0x10, "SHIFT key" },
	{ "VK_CONTROL", 0x11, "CTRL key" },
	{ "VK_MENU", 0x12, "ALT key" },
	{ "VK_PAUSE", 0x13, "PAUSE key" },
	{ "VK_CAPITAL", 0x14, "CAPS LOCK key" },
	{ "VK_KANA", 0x15, "IME Kana mode" },
	{ "VK_HANGUEL", 0x15, "IME Hanguel mode (maintained for compatibility; use VK_HANGUL)" },
	{ "VK_HANGUL", 0x15, "IME Hangul mode" },
	//{ "-", 0x16, "Undefined" },
	{ "VK_JUNJA", 0x17, "IME Junja mode" },
	{ "VK_FINAL", 0x18, "IME final mode" },
	{ "VK_HANJA", 0x19, "IME Hanja mode" },
	{ "VK_KANJI", 0x19, "IME Kanji mode" },
	//{ "-", 0x1A, "Undefined" },
	{ "VK_ESCAPE", 0x1B, "ESC key" },
	{ "VK_CONVERT", 0x1C, "IME convert" },
	{ "VK_NONCONVERT", 0x1D, "IME nonconvert" },
	{ "VK_ACCEPT", 0x1E, "IME accept" },
	{ "VK_MODECHANGE", 0x1F, "IME mode change request" },
	{ "VK_SPACE", 0x20, "SPACEBAR" },
	{ "VK_PRIOR", 0x21, "PAGE UP key" },
	{ "VK_NEXT", 0x22, "PAGE DOWN key" },
	{ "VK_END", 0x23, "END key" },
	{ "VK_HOME", 0x24, "HOME key" },
	{ "VK_LEFT", 0x25, "LEFT ARROW key" },
	{ "VK_UP", 0x26, "UP ARROW key" },
	{ "VK_RIGHT", 0x27, "RIGHT ARROW key" },
	{ "VK_DOWN", 0x28, "DOWN ARROW key" },
	{ "VK_SELECT", 0x29, "SELECT key" },
	{ "VK_PRINT", 0x2A, "PRINT key" },
	{ "VK_EXECUTE", 0x2B, "EXECUTE key" },
	{ "VK_SNAPSHOT", 0x2C, "PRINT SCREEN key" },
	{ "VK_INSERT", 0x2D, "INS key" },
	{ "VK_DELETE", 0x2E, "DEL key" },
	{ "VK_HELP", 0x2F, "HELP key" },
	{ "0 key", 0x30, "0 key" },
	{ "1 key", 0x31, "1 key" },
	{ "2 key", 0x32, "2 key" },
	{ "3 key", 0x33, "3 key" },
	{ "4 key", 0x34, "4 key" },
	{ "5 key", 0x35, "5 key" },
	{ "6 key", 0x36, "6 key" },
	{ "7 key", 0x37, "7 key" },
	{ "8 key", 0x38, "8 key" },
	{ "9 key", 0x39, "9 key" },
	//{ "undefined", 0x3A - 40, "undefined" },
	{ "A key", 0x41, "A key" },
	{ "B key", 0x42, "B key" },
	{ "C key", 0x43, "C key" },
	{ "D key", 0x44, "D key" },
	{ "E key", 0x45, "E key" },
	{ "F key", 0x46, "F key" },
	{ "G key", 0x47, "G key" },
	{ "H key", 0x48, "H key" },
	{ "I key", 0x49, "I key" },
	{ "J key", 0x4A, "J key" },
	{ "K key", 0x4B, "K key" },
	{ "L key", 0x4C, "L key" },
	{ "M key", 0x4D, "M key" },
	{ "N key", 0x4E, "N key" },
	{ "O key", 0x4F, "O key" },
	{ "P key", 0x50, "P key" },
	{ "Q key", 0x51, "Q key" },
	{ "R key", 0x52, "R key" },
	{ "S key", 0x53, "S key" },
	{ "T key", 0x54, "T key" },
	{ "U key", 0x55, "U key" },
	{ "V key", 0x56, "V key" },
	{ "W key", 0x57, "W key" },
	{ "X key", 0x58, "X key" },
	{ "Y key", 0x59, "Y key" },
	{ "Z key", 0x5A, "Z key" },
	{ "VK_LWIN", 0x5B, "Left Windows key (Natural keyboard)" },
	{ "VK_RWIN", 0x5C, "Right Windows key (Natural keyboard)" },
	{ "VK_APPS", 0x5D, "Applications key (Natural keyboard)" },
	//{ "-", 0x5E, "Reserved" },
	{ "VK_SLEEP", 0x5F, "Computer Sleep key" },
	{ "VK_NUMPAD0", 0x60, "Numeric keypad 0 key" },
	{ "VK_NUMPAD1", 0x61, "Numeric keypad 1 key" },
	{ "VK_NUMPAD2", 0x62, "Numeric keypad 2 key" },
	{ "VK_NUMPAD3", 0x63, "Numeric keypad 3 key" },
	{ "VK_NUMPAD4", 0x64, "Numeric keypad 4 key" },
	{ "VK_NUMPAD5", 0x65, "Numeric keypad 5 key" },
	{ "VK_NUMPAD6", 0x66, "Numeric keypad 6 key" },
	{ "VK_NUMPAD7", 0x67, "Numeric keypad 7 key" },
	{ "VK_NUMPAD8", 0x68, "Numeric keypad 8 key" },
	{ "VK_NUMPAD9", 0x69, "Numeric keypad 9 key" },
	{ "VK_MULTIPLY", 0x6A, "Multiply key" },
	{ "VK_ADD", 0x6B, "Add key" },
	{ "VK_SEPARATOR", 0x6C, "Separator key" },
	{ "VK_SUBTRACT", 0x6D, "Subtract key" },
	{ "VK_DECIMAL", 0x6E, "Decimal key" },
	{ "VK_DIVIDE", 0x6F, "Divide key" },
	{ "VK_F1", 0x70, "F1 key" },
	{ "VK_F2", 0x71, "F2 key" },
	{ "VK_F3", 0x72, "F3 key" },
	{ "VK_F4", 0x73, "F4 key" },
	{ "VK_F5", 0x74, "F5 key" },
	{ "VK_F6", 0x75, "F6 key" },
	{ "VK_F7", 0x76, "F7 key" },
	{ "VK_F8", 0x77, "F8 key" },
	{ "VK_F9", 0x78, "F9 key" },
	{ "VK_F10", 0x79, "F10 key" },
	{ "VK_F11", 0x7A, "F11 key" },
	{ "VK_F12", 0x7B, "F12 key" },
	{ "VK_F13", 0x7C, "F13 key" },
	{ "VK_F14", 0x7D, "F14 key" },
	{ "VK_F15", 0x7E, "F15 key" },
	{ "VK_F16", 0x7F, "F16 key" },
	{ "VK_F17", 0x80, "F17 key" },
	{ "VK_F18", 0x81, "F18 key" },
	{ "VK_F19", 0x82, "F19 key" },
	{ "VK_F20", 0x83, "F20 key" },
	{ "VK_F21", 0x84, "F21 key" },
	{ "VK_F22", 0x85, "F22 key" },
	{ "VK_F23", 0x86, "F23 key" },
	{ "VK_F24", 0x87, "F24 key" },
	//{ "-", 0x88 - 8F, "Unassigned" },
	{ "VK_NUMLOCK", 0x90, "NUM LOCK key" },
	{ "VK_SCROLL", 0x91, "SCROLL LOCK key" },
	//{ "-", 0x88 - 8F, "Unassigned" },
	{ "VK_NUMLOCK", 0x90, "NUM LOCK key" },
	{ "VK_SCROLL", 0x91, "SCROLL LOCK key" },
	//{"-", 0x92-96,"OEM specific"},
	//{ "-", 0x97 - 9F, "Unassigned" },
	{ "VK_LSHIFT", 0xA0, "Left SHIFT key" },
	{ "VK_RSHIFT", 0xA1, "Right SHIFT key" },
	{ "VK_LCONTROL", 0xA2, "Left CONTROL key" },
	{ "VK_RCONTROL", 0xA3, "Right CONTROL key" },
	{ "VK_LMENU", 0xA4, "Left MENU key" },
	{ "VK_RMENU", 0xA5, "Right MENU key" },
	{ "VK_BROWSER_BACK", 0xA6, "Browser Back key" },
	{ "VK_BROWSER_FORWARD", 0xA7, "Browser Forward key" },
	{ "VK_BROWSER_REFRESH", 0xA8, "Browser Refresh key" },
	{ "VK_BROWSER_STOP", 0xA9, "Browser Stop key" },
	{ "VK_BROWSER_SEARCH", 0xAA, "Browser Search key" },
	{ "VK_BROWSER_FAVORITES", 0xAB, "Browser Favorites key" },
	{ "VK_BROWSER_HOME", 0xAC, "Browser Start and Home key" },
	{ "VK_VOLUME_MUTE", 0xAD, "Volume Mute key" },
	{ "VK_VOLUME_DOWN", 0xAE, "Volume Down key" },
	{ "VK_VOLUME_UP", 0xAF, "Volume Up key" },
	{ "VK_MEDIA_NEXT_TRACK", 0xB0, "Next Track key" },
	{ "VK_MEDIA_PREV_TRACK", 0xB1, "Previous Track key" },
	{ "VK_MEDIA_STOP", 0xB2, "Stop Media key" },
	{ "VK_MEDIA_PLAY_PAUSE", 0xB3, "Play/Pause Media key" },
	{ "VK_LAUNCH_MAIL", 0xB4, "Start Mail key" },
	{ "VK_LAUNCH_MEDIA_SELECT", 0xB5, "Select Media key" },
	{ "VK_LAUNCH_APP1", 0xB6, "Start Application 1 key" },
	{ "VK_LAUNCH_APP2", 0xB7, "Start Application 2 key" },
	//{ "-", 0xB8 - B9, "Reserved" },
	{ "VK_OEM_1", 0xBA, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \';:\' key VK_OEM_PLUS" },
	{"VK_OEM_PLUS", 0xBB, "For any country/region, the \'+\' key"},
	{ "VK_OEM_COMMA", 0xBC, "For any country/region, the \',\' key" },
	{ "VK_OEM_MINUS", 0xBD, "For any country/region, the \'-\' key" },
	{ "VK_OEM_PERIOD", 0xBE, "For any country/region, the \'.\' key" },
	{ "VK_OEM_2", 0xBF, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \'/?\' key" },
	{ "VK_OEM_3", 0xC0, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \'`~\' key" },
	//{ "-", 0xC1 - D7, "Reserved" },
	//{ "-", 0xD8 - DA, "Unassigned" },
	{ "VK_OEM_4", 0xDB, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \'[{\' key" },
	{ "VK_OEM_5", 0xDC, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \'\\|\' key" },
	{ "VK_OEM_6", 0xDD, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \']}\' key" },
	{ "VK_OEM_7", 0xDE, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the \'single-quote/double-quote\' key" },
	{ "VK_OEM_8", 0xDF, "Used for miscellaneous characters; it can vary by keyboard." },
	//{ "-", 0xE0, "Reserved" },
	//{ "-", 0xE1, "OEM specific" },
	{ "VK_OEM_102", 0xE2, "Either the angle bracket key or the backslash key on the RT 102-key keyboard" },
	//{ "-", 0xE3 - E4, "OEM specific" },
	{ "VK_PROCESSKEY", 0xE5, "IME PROCESS key" },
	//{ "-", 0xE6, "OEM specific" },
	{ "VK_PACKET", 0xE7, "Used to pass Unicode characters as if they were keystrokes. The VK_PACKET key is the low word of a 32-bit Virtual Key value used for non-keyboard input methods. For more information, see Remark in KEYBDINPUT, SendInput, WM_KEYDOWN, and WM_KEYUP" },
	//{ "-", 0xE8, "Unassigned" },
	//  {"-",0xE6,"OEM specific"},
	{"VK_PACKET",0xE7,"Used to pass Unicode characters as if they were keystrokes. The VK_PACKET key is the low word of a 32-bit Virtual Key value used for non-keyboard input methods. For more information, see Remark in KEYBDINPUT, SendInput, WM_KEYDOWN, and WM_KEYUP"},
	//  {"-",0xE8,"Unassigned"},
	//{ "-", 0xE9 - F5, "OEM specific" },
	{ "VK_ATTN", 0xF6, "Attn key" },
	{ "VK_CRSEL", 0xF7, "CrSel key" },
	{ "VK_EXSEL", 0xF8, "ExSel key" },
	{ "VK_EREOF", 0xF9, "Erase EOF key" },
	{ "VK_PLAY", 0xFA, "Play key" },
	{ "VK_ZOOM", 0xFB, "Zoom key" },
	{ "VK_NONAME", 0xFC, "Reserved" },
	{ "VK_PA1", 0xFD, "PA1 key" },
	{ "VK_OEM_CLEAR", 0xFE, "Clear key" } };


const ps2_vkey key_code[] = {
	{"(null)", 0x0, 0, "(null)"},
	{"VK_LBUTTON", 0x1, 0, "Left mouse button"},
	{"VK_RBUTTON", 0x2, 0, "Right mouse button"},
	{"VK_CANCEL", 0x3, 0,"Control-break processing"},
	{"VK_MBUTTON", 0x4, 0, "Middle mouse button (three-button mouse)"},
	{"VK_XBUTTON1", 0x5, 0, "X1 mouse button"},
	{"VK_XBUTTON2", 0x6, 0, "X2 mouse button"},
	{"-", 0x7, 0, "Undefined"},
	{"VK_BACK", 0x66, 1, "BACKSPACE key"},
	{"VK_TAB", 0x0d, 1, "TAB key"},
	{"(null)", 0xa, 0, "(null)"},
	{"(null)", 0xb, 0, "(null)"},
	{"VK_CLEAR", 0xc, 0, "CLEAR key"},
	{"VK_RETURN", 0x5a, 1, "ENTER key"},
	{"(null)", 0xe, 0, "(null)"},
	{"(null)", 0xf, 0, "(null)"},
	{"VK_SHIFT", 0x10, 0, "SHIFT key"},
	{"VK_CONTROL", 0x11, 0, "CTRL key"},
	{"VK_MENU", 0x11, 0, "ALT key"},
	{"VK_PAUSE", 0x13, 0, "PAUSE key"},
	{"VK_CAPITAL", 0x58, 1, "CAPS LOCK key"},
	{"VK_HANGUL", 0x15, 0, "IME Hangul mode"},
	{"(null)", 0x16, 0, "(null)"},
	{"VK_JUNJA", 0x17, 0, "IME Junja mode"},
	{"VK_FINAL", 0x18, 0, "IME final mode"},
	{"VK_KANJI", 0x19, 0, "IME Kanji mode"},
	{"(null)", 0x1a, 0, "(null)"},
	{"VK_ESCAPE", 0x76, 1, "ESC key"},
	{"VK_CONVERT", 0x1c, 0, "IME convert"},
	{"VK_NONCONVERT", 0x1d, 0, "IME nonconvert"},
	{"VK_ACCEPT", 0x1e, 0, "IME accept"},
	{"VK_MODECHANGE", 0x1f, 0, "IME mode change request"},
	{"VK_SPACE", 0x29, 1, "SPACEBAR"},
	{"VK_PRIOR", 0x7d, 2, "PAGE UP key"},
	{"VK_NEXT", 0x7a, 2, "PAGE DOWN key"},
	{"VK_END", 0x69, 2, "END key"},
	{"VK_HOME", 0x6c, 2, "HOME key"},
	{"VK_LEFT", 0x6b, 2, "LEFT ARROW key"},
	{"VK_UP", 0x75, 2, "UP ARROW key"},
	{"VK_RIGHT", 0x74, 2, "RIGHT ARROW key"},
	{"VK_DOWN", 0x72, 2, "DOWN ARROW key"},
	{"VK_SELECT", 0x29, 0, "SELECT key"},
	{"VK_PRINT", 0x2a, 0, "PRINT key"},
	{"VK_EXECUTE", 0x2b, 0, "EXECUTE key"},
	{"VK_SNAPSHOT", 0x2c, 0, "PRINT SCREEN key"},
	{"VK_INSERT", 0x70, 2, "INS key"},
	{"VK_DELETE", 0x71, 2, "DEL key"},
	{"VK_HELP", 0x2f, 0, "HELP key"},
	{"0 key", 0x45, 1, "0 key"},
	{"1 key", 0x16, 1, "1 key"},
	{"2 key", 0x1e, 1, "2 key"},
	{"3 key", 0x26, 1, "3 key"},
	{"4 key", 0x25, 1, "4 key"},
	{"5 key", 0x2e, 1, "5 key"},
	{"6 key", 0x36, 1, "6 key"},
	{"7 key", 0x3d, 1, "7 key"},
	{"8 key", 0x3e, 1, "8 key"},
	{"9 key", 0x46, 1, "9 key"},
	{"(null)", 0x3a, 0, "(null)"},
	{"(null)", 0x3b, 0, "(null)"},
	{"(null)", 0x3c, 0, "(null)"},
	{"(null)", 0x3d, 0, "(null)"},
	{"(null)", 0x3e, 0, "(null)"},
	{"(null)", 0x3f, 0, "(null)"},
	{"(null)", 0x40, 0, "(null)"},
	{"A key", 0x1c, 1, "A key"},
	{"B key", 0x32, 1, "B key"},
	{"C key", 0x21, 1, "C key"},
	{"D key", 0x23, 1, "D key"},
	{"E key", 0x24, 1, "E key"},
	{"F key", 0x2b, 1, "F key"},
	{"G key", 0x34, 1, "G key"},
	{"H key", 0x33, 1, "H key"},
	{"I key", 0x43, 1, "I key"},
	{"J key", 0x3b, 1, "J key"},
	{"K key", 0x42, 1, "K key"},
	{"L key", 0x4b, 1, "L key"},
	{"M key", 0x3a, 1, "M key"},
	{"N key", 0x31, 1, "N key"},
	{"O key", 0x44, 1, "O key"},
	{"P key", 0x4d, 1, "P key"},
	{"Q key", 0x15, 1, "Q key"},
	{"R key", 0x2d, 1, "R key"},
	{"S key", 0x1b, 1, "S key"},
	{"U key", 0x3c, 1, "U key"},
	{"V key", 0x2a, 1, "V key"},
	{"W key", 0x1d, 1, "W key"},
	{"X key", 0x22, 1, "X key"},
	{"Y key", 0x35, 1, "Y key"},
	{"Z key", 0x1a, 1, "Z key"},
	{"VK_LWIN", 0x5b, 0, "Left Windows key (Natural keyboard)"},
	{"VK_RWIN", 0x5c, 0, "Right Windows key (Natural keyboard)"},
	{"VK_APPS", 0x2f, 2, "Applications key (Natural keyboard)"},
	{"(null)", 0x5e, 0, "(null)"},
	{"VK_SLEEP", 0x5f, 0, "Computer Sleep key"},
	{"VK_NUMPAD0", 0x70, 1, "Numeric keypad 0 key"},
	{"VK_NUMPAD1", 0x69, 1, "Numeric keypad 1 key"},
	{"VK_NUMPAD2", 0x72, 1, "Numeric keypad 2 key"},
	{"VK_NUMPAD3", 0x7a, 1, "Numeric keypad 3 key"},
	{"VK_NUMPAD4", 0x6b, 1, "Numeric keypad 4 key"},
	{"VK_NUMPAD5", 0x73, 1, "Numeric keypad 5 key"},
	{"VK_NUMPAD6", 0x74, 1, "Numeric keypad 6 key"},
	{"VK_NUMPAD7", 0x6c, 1, "Numeric keypad 7 key"},
	{"VK_NUMPAD8", 0x75, 1, "Numeric keypad 8 key"},
	{"VK_NUMPAD9", 0x7d, 1, "Numeric keypad 9 key"},
	{"VK_MULTIPLY", 0x7c, 1, "Multiply key"},
	{"VK_ADD", 0x79, 1, "Add key"},
	{"VK_SEPARATOR", 0x6c, 0, "Separator key"},
	{"VK_SUBTRACT", 0x7b, 1, "Subtract key"},
	{"VK_DECIMAL", 0x71, 1, "Decimal key"},
	{"VK_DIVIDE", 0x4a, 2, "Divide key"},
	{"VK_F1", 0x05, 1, "F1 key"},
	{"VK_F2", 0x06, 1, "F2 key"},
	{"VK_F3", 0x04, 1, "F3 key"},
	{"VK_F4", 0x0C, 1, "F4 key"},
	{"VK_F5", 0x03, 1, "F5 key"},
	{"VK_F6", 0x0b, 1, "F6 key"},
	{"VK_F7", 0x83, 1, "F7 key"},
	{"VK_F8", 0x0a, 1, "F8 key"},
	{"VK_F9", 0x01, 1, "F9 key"},
	{"VK_F10", 0x09, 1, "F10 key"},
	{"VK_F11", 0x78, 1, "F11 key"},
	{"VK_F12", 0x07, 1, "F12 key"},
	{"VK_F13", 0x7c, 0, "F13 key"},
	{"VK_F14", 0x7d, 0, "F14 key"},
	{"VK_F15", 0x7e, 0, "F15 key"},
	{"VK_F16", 0x7f, 0, "F16 key"},
	{"VK_F17", 0x80, 0, "F17 key"},
	{"VK_F18", 0x81, 0, "F18 key"},
	{"VK_F19", 0x82, 0, "F19 key"},
	{"VK_F20", 0x83, 0, "F20 key"},
	{"VK_F21", 0x84, 0, "F21 key"},
	{"VK_F22", 0x85, 0, "F22 key"},
	{"VK_F23", 0x86, 0, "F23 key"},
	{"VK_F24", 0x87, 0, "F24 key"},
	{"(null)", 0x88, 0, "(null)"},
	{"(null)", 0x89, 0, "(null)"},
	{"(null)", 0x8a, 0, "(null)"},
	{"(null)", 0x8b, 0, "(null)"},
	{"(null)", 0x8c, 0, "(null)"},
	{"(null)", 0x8d, 0, "(null)"},
	{"(null)", 0x8e, 0, "(null)"},
	{"(null)", 0x8f, 0, "(null)"},
	{"VK_NUMLOCK", 0x77, 1, "NUM LOCK key"},
	{"VK_SCROLL", 0x7e, 1, "SCROLL LOCK key"},
	{"(null)", 0x92, 0, "(null)"},
	{"(null)", 0x93, 0, "(null)"},
	{"(null)", 0x94, 0, "(null)"},
	{"(null)", 0x95, 0, "(null)"},
	{"(null)", 0x96, 0, "(null)"},
	{"(null)", 0x97, 0, "(null)"},
	{"(null)", 0x98, 0, "(null)"},
	{"(null)", 0x99, 0, "(null)"},
	{"(null)", 0x9a, 0, "(null)"},
	{"T key", 0x2c, 1, "T key"},
	{"(null)", 0x9b, 0, "(null)"},
	{"(null)", 0x9c, 0, "(null)"},
	{"(null)", 0x9d, 0, "(null)"},
	{"(null)", 0x9e, 0, "(null)"},
	{"(null)", 0x9f, 0, "(null)"},
	{"VK_LSHIFT", 0x12, 1, "Left SHIFT key"},
	{"VK_RSHIFT", 0x59, 1, "Right SHIFT key"},
	{"VK_LCONTROL", 0x14, 1, "Left CONTROL key"},
	{"VK_RCONTROL", 0x14, 2, "Right CONTROL key"},
	{"VK_LMENU", 0x11, 1, "Left ALT key"},
	{"VK_RMENU", 0x11, 2, "Right ALT key"},
	{"VK_BROWSER_BACK", 0xa6, 0, "Browser Back key"},
	{"VK_BROWSER_FORWARD", 0xa7, 0, "Browser Forward key"},
	{"VK_BROWSER_REFRESH", 0xa8, 0, "Browser Refresh key"},
	{"VK_BROWSER_STOP", 0xa9, 0, "Browser Stop key"},
	{"VK_BROWSER_SEARCH", 0xaa, 0, "Browser Search key"},
	{"VK_BROWSER_FAVORITES", 0xab, 0,"Browser Favorites key"},
	{"VK_BROWSER_HOME", 0xac, 0, "Browser Start and Home key"},
	{"VK_VOLUME_MUTE", 0xad, 0, "Volume Mute key"},
	{"VK_VOLUME_DOWN", 0xae, 0, "Volume Down key"},
	{"VK_VOLUME_UP", 0xaf, 0, "Volume Up key"},
	{"VK_MEDIA_NEXT_TRACK", 0xb0, 0, "Next Track key"},
	{"VK_MEDIA_PREV_TRACK", 0xb1, 0, "Previous Track key"},
	{"VK_MEDIA_STOP", 0xb2, 0, "Stop Media key"},
	{"VK_MEDIA_PLAY_PAUSE", 0xb3, 0, "Play/Pause Media key"},
	{"VK_LAUNCH_MAIL", 0xb4, 0, "Start Mail key"},
	{"VK_LAUNCH_MEDIA_SELECT", 0xb5, 0, "Select Media key"},
	{"VK_LAUNCH_APP1", 0xb6, 0, "Start Application 1 key"},
	{"VK_LAUNCH_APP2", 0xb7, 0, "Start Application 2 key"},
	{"(null)", 0xb8, 0, "(null)"},
	{"(null)", 0xb9, 0, "(null)"},
	{"VK_OEM_1", 0x4c, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the ';:' key VK_OEM_PLUS"},
	{"VK_OEM_PLUS", 0x55, 1, "For any country/region, the '+' key"},
	{"VK_OEM_COMMA", 0x41, 1, "For any country/region, the ',' key"},
	{"VK_OEM_MINUS", 0x4e, 1, "For any country/region, the '-' key"},
	{"VK_OEM_PERIOD", 0x49, 1, "For any country/region, the '.' key"},
	{"VK_OEM_2", 0x4a, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the '/?' key"},
	{"VK_OEM_3", 0x0e, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the '`~' key"},
	{"(null)", 0xc1, 0, "(null)"},
	{"(null)", 0xc2, 0, "(null)"},
	{"(null)", 0xc3, 0, "(null)"},
	{"(null)", 0xc4, 0, "(null)"},
	{"(null)", 0xc5, 0, "(null)"},
	{"(null)", 0xc6, 0, "(null)"},
	{"(null)", 0xc7, 0, "(null)"},
	{"(null)", 0xc8, 0, "(null)"},
	{"(null)", 0xc9, 0, "(null)"},
	{"(null)", 0xca, 0, "(null)"},
	{"(null)", 0xcb, 0, "(null)"},
	{"(null)", 0xcc, 0, "(null)"},
	{"(null)", 0xcd, 0, "(null)"},
	{"(null)", 0xce, 0, "(null)"},
	{"(null)", 0xcf, 0, "(null)"},
	{"(null)", 0xd0, 0, "(null)"},
	{"(null)", 0xd1, 0, "(null)"},
	{"(null)", 0xd2, 0, "(null)"},
	{"(null)", 0xd3, 0, "(null)"},
	{"(null)", 0xd4, 0, "(null)"},
	{"(null)", 0xd5, 0, "(null)"},
	{"(null)", 0xd6, 0, "(null)"},
	{"(null)", 0xd7, 0, "(null)"},
	{"(null)", 0xd8, 0, "(null)"},
	{"(null)", 0xd9, 0, "(null)"},
	{"(null)", 0xda, 0, "(null)"},
	{"VK_OEM_4", 0x54, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the '[{' key"},
	{"VK_OEM_5", 0x5d, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the '\\|' key"},
	{"VK_OEM_6", 0x5b, 1, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the ']}' key"},
	{"VK_OEM_7", 0xde, 0, "Used for miscellaneous characters; it can vary by keyboard. For the US standard keyboard, the 'single-quote/double-quote' key"},
	{"VK_OEM_8", 0xdf, 0, "Used for miscellaneous characters; it can vary by keyboard."},
	{"(null)", 0xe0, 0, "(null)"},
	{"(null)", 0xe1, 0, "(null)"},
	{"VK_OEM_102", 0xe2, 0, "Either the angle bracket key or the backslash key on the RT 102-key keyboard"},
	{"(null)", 0xe3, 0, "(null)"},
	{"(null)", 0xe4, 0, "(null)"},
	{"VK_PROCESSKEY", 0xe5, 0, "IME PROCESS key"},
	{"(null)", 0xe6, 0, "(null)"},
	{"VK_PACKET", 0xe7, 0, "Used to pass Unicode characters as if they were keystrokes. The VK_PACKET key is the low word of a 32-bit Virtual Key value used for non-keyboard input methods. For more information, see Remark in KEYBDINPUT, SendInput, WM_KEYDOWN, and WM_KEYUP"},
	{"(null)", 0xe8, 0, "(null)"},
	{"(null)", 0xe9, 0, "(null)"},
	{"(null)", 0xea, 0, "(null)"},
	{"(null)", 0xeb, 0, "(null)"},
	{"(null)", 0xec, 0, "(null)"},
	{"(null)", 0xed, 0, "(null)"},
	{"(null)", 0xee, 0, "(null)"},
	{"(null)", 0xef, 0, "(null)"},
	{"(null)", 0xf0, 0, "(null)"},
	{"(null)", 0xf1, 0, "(null)"},
	{"(null)", 0xf2, 0, "(null)"},
	{"(null)", 0xf3, 0, "(null)"},
	{"(null)", 0xf4, 0, "(null)"},
	{"(null)", 0xf5, 0, "(null)"},
	{"VK_ATTN", 0xf6, 0, "Attn key"},
	{"VK_CRSEL", 0xf7, 0, "CrSel key"},
	{"VK_EXSEL", 0xf8, 0, "ExSel key"},
	{"VK_EREOF", 0xf9, 0, "Erase EOF key"},
	{"VK_PLAY", 0xfa, 0, "Play key"},
	{"VK_ZOOM", 0xfb, 0, "Zoom key"},
	{"VK_NONAME", 0xfc, 0, "Reserved"},
	{"VK_PA1", 0xfd, 0, "PA1 key"},
	{"VK_OEM_CLEAR", 0xfe, 0, "Clear key"},
	{"(null)", 0xff, 0, "(null)"} };

class PS2Key {
	private:
		uint8_t clk_pin, data_pin;
		uint32_t clk_delay;

	public:
		PS2Key() {
			this->clk_pin = 4;
			this->data_pin = 5;
			this->clk_delay = 20;
		}
		bool setup(uint8_t clk_pin, uint8_t data_pin, uint32_t clk_dalay) {
			this->clk_pin = clk_pin;
			this->data_pin = data_pin;
			this->clk_delay = clk_delay;
			if (wiringPiSetup() == -1) {
				printf("Setup wiringPi failed.\n");
				return 0;
			}
			pinMode(clk_pin, OUTPUT);
			pinMode(data_pin, OUTPUT);
			return 1;
		}

		void write_bit(uint8_t bit) {
			digitalWrite(data_pin, bit & 1);
			digitalWrite(clk_pin, LOW);
			delayMicroseconds(clk_delay);
			digitalWrite(clk_pin, HIGH);
			delayMicroseconds(clk_delay);
		}

		void write_byte(uint8_t byte) {
			write_bit(0);
			uint8_t parity;
			for (int i = 0;i < 8;i++) {
				parity ^= byte & 1;
				write_bit(byte & 1);
				byte >>= 1;
			}
			write_bit(parity);
			write_bit(1);
		}

		void press(uint8_t key) {
			switch(key_code[key].mode) {
				case 0:
					break;
				case 1:
					write_byte(key_code[key].code);
					break;
				case 2:
					write_byte(0xe0);
					write_byte(key_code[key].code);
					break;
			}
		}

		void release(uint8_t key) {
			switch(key_code[key].mode) {
				case 0:
					break;
				case 1:
					write_byte(0xf0);
					write_byte(key_code[key].code);
				case 2:
					write_byte(0xe0);
					write_byte(0xf0);
					write_byte(key_code[key].code);
			}
		}

};
